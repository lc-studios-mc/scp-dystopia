{
	"format_version": "1.10.0",
	"minecraft:client_entity": {
		"description": {
			"identifier": "lc:scpdy_f_sentry_turret",

			"materials": {
				"default": "entity_emissive_alpha"
			},

			"textures": {
				"default": "textures/scpdy/mobs/f_sentry_turret"
			},

			"geometry": {
				"default": "geometry.scpdy_sentry_turret"
			},

			"animations": {
				"anim.look": "animation.scpdy.sentry_turret.look",
				"anim.gun_roll": "animation.scpdy.sentry_turret.gun_roll",
				"anim.smoke": "animation.scpdy.sentry_turret.smoke",
				"anim.eye.fine": "animation.scpdy.sentry_turret.eye.fine",
				"anim.eye.flicker": "animation.scpdy.sentry_turret.eye.flicker"
			},

			"scripts": {
				"scale": "1",

				"animate": [
					"anim.look",
					"anim.gun_roll",
					{ "anim.eye.fine": "q.health >= 15" },
					{ "anim.eye.flicker": "q.health < 15" },
					{ "anim.smoke": "q.health < 45" }
				],

				"initialize": [
					"v.gun_roll_speed = 0;",
					"v.gun_roll_anim_time = 0;"
				],

				"pre_animation": [
					"v.look_x = q.target_x_rotation;",
					"v.look_y = q.target_y_rotation;",
					"v.gun_roll_speed_next = q.has_target ? 3 : 0;",
					"v.gun_roll_speed_lerp_time = (v.gun_roll_speed_next > v.gun_roll_speed ? 5 : 2) * q.delta_time;",
					"v.gun_roll_speed = math.lerp(v.gun_roll_speed, v.gun_roll_speed_next, v.gun_roll_speed_lerp_time);",
					"v.gun_roll_anim_time = math.mod(v.gun_roll_anim_time + (q.delta_time * v.gun_roll_speed), 360);"
				]
			},

			"particle_effects": {
				"smoke": "lc:scpdy_sentry_turret_smoke_emitter"
			},

			"render_controllers": [
				"controller.render.scpdy.sentry_turret"
			],

			"spawn_egg": {
				"base_color": "#343635",
				"overlay_color": "#676965"
			}
		}
	}
}
